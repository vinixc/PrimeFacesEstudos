<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>

</h:head> 

<body> 
	<h:form id="form">
		<p:commandButton type="button" value="Iniciar" onclick="PF('poolContador').start();PF('poolData').start();"></p:commandButton>
		<p:commandButton type="button" value="Parar" onclick="PF('poolContador').stop();PF('poolData').stop();"></p:commandButton>
		<br/>
		<br/>
		<h:outputText id="txtData" value="#{poolBean.data}"></h:outputText>
		<br/>
		<h:outputText id="txtContador" value="#{poolBean.count}"></h:outputText>
		
		<p:poll interval="3" listener="#{poolBean.novaData}"
		 update="txtData" autoStart="false" widgetVar="poolData"></p:poll>
		 
		<p:poll interval="3" listener="#{poolBean.incrementar}"
		 update="txtContador" autoStart="false" widgetVar="poolContador"></p:poll>
		 
	</h:form>	
</body> 
</html>
